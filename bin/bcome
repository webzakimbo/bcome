#!/usr/bin/env ruby
# frozen_string_literal: true

require 'bcome'

::Bcome::Timer.instance.start

breadcrumbs = ARGV[0]
arguments = ARGV - [ARGV[0]]
handler = ::Bcome::Startup.new(breadcrumbs, arguments)

Thread.report_on_exception = true

begin
  handler.do
rescue SystemExit, Interrupt
  handler.clean_up
end
